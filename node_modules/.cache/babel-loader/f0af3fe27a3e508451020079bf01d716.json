{"ast":null,"code":"import axios from 'axios';\nimport { getDataUser } from '../services/token';\nconst BECKEND_URL = 'https://9.react.pages.academy/wtw';\nconst REQUEST_TIMEOUT = 5000;\nexport const createAPI = () => {\n  const api = axios.create({\n    baseURL: BECKEND_URL,\n    timeout: REQUEST_TIMEOUT\n  });\n  api.interceptors.request.use(config => {\n    const dataUser = getDataUser();\n\n    if (dataUser.token) {\n      config.headers['x-token'] = dataUser.token;\n    }\n\n    return config;\n  });\n  return api;\n};","map":{"version":3,"sources":["C:/Users/Admin/Desktop/Вячеслав/Projects/1479361-what-to-watch-9/src/store/api.ts"],"names":["axios","getDataUser","BECKEND_URL","REQUEST_TIMEOUT","createAPI","api","create","baseURL","timeout","interceptors","request","use","config","dataUser","token","headers"],"mappings":"AAAA,OAAOA,KAAP,MAAyD,OAAzD;AACA,SAASC,WAAT,QAA4B,mBAA5B;AAEA,MAAMC,WAAW,GAAG,mCAApB;AACA,MAAMC,eAAe,GAAG,IAAxB;AAEA,OAAO,MAAMC,SAAS,GAAG,MAAoB;AAC3C,QAAMC,GAAG,GAAGL,KAAK,CAACM,MAAN,CAAa;AACvBC,IAAAA,OAAO,EAAEL,WADc;AAEvBM,IAAAA,OAAO,EAAEL;AAFc,GAAb,CAAZ;AAIAE,EAAAA,GAAG,CAACI,YAAJ,CAAiBC,OAAjB,CAAyBC,GAAzB,CACGC,MAAD,IAAgC;AAC9B,UAAMC,QAAQ,GAAGZ,WAAW,EAA5B;;AAEA,QAAIY,QAAQ,CAACC,KAAb,EAAoB;AAClBF,MAAAA,MAAM,CAACG,OAAP,CAAe,SAAf,IAA4BF,QAAQ,CAACC,KAArC;AACD;;AAED,WAAOF,MAAP;AACD,GATH;AAWA,SAAOP,GAAP;AACD,CAjBM","sourcesContent":["import axios, { AxiosInstance, AxiosRequestConfig } from 'axios';\nimport { getDataUser } from '../services/token';\n\nconst BECKEND_URL = 'https://9.react.pages.academy/wtw';\nconst REQUEST_TIMEOUT = 5000;\n\nexport const createAPI = ():AxiosInstance => {\n  const api = axios.create({\n    baseURL: BECKEND_URL,\n    timeout: REQUEST_TIMEOUT,\n  });\n  api.interceptors.request.use(\n    (config: AxiosRequestConfig) => {\n      const dataUser = getDataUser();\n\n      if (dataUser.token) {\n        config.headers['x-token'] = dataUser.token;\n      }\n\n      return config;\n    },\n  );\n  return api;\n};\n"]},"metadata":{},"sourceType":"module"}