{"ast":null,"code":"import{useRef}from'react';import{Link,useNavigate}from'react-router-dom';import{AppRoute}from'../../const';import{useAppDispatch}from'../../hooks';import{loginAction}from'../../store/api-action';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function SignInPage(){var loginRef=useRef(null);var passwordRef=useRef(null);var dispatch=useAppDispatch();var navigate=useNavigate();var onSubmit=function onSubmit(authData){dispatch(loginAction(authData));navigate(AppRoute.Main);};var handleSubmit=function handleSubmit(evt){evt.preventDefault();if(loginRef.current!==null&&passwordRef.current!==null){return onSubmit({login:loginRef.current.value,password:passwordRef.current.value});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"user-page\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"page-header user-page__head\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"logo\",children:/*#__PURE__*/_jsxs(Link,{to:\"/\",className:\"logo__link\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"logo__letter logo__letter--1\",children:\"W\"}),/*#__PURE__*/_jsx(\"span\",{className:\"logo__letter logo__letter--2\",children:\"T\"}),/*#__PURE__*/_jsx(\"span\",{className:\"logo__letter logo__letter--3\",children:\"W\"})]})}),/*#__PURE__*/_jsx(\"h1\",{className:\"page-title user-page__title\",children:\"Sign in\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"sign-in user-page__content\",children:/*#__PURE__*/_jsxs(\"form\",{action:\"\",className:\"sign-in__form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sign-in__fields\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sign-in__field\",children:[/*#__PURE__*/_jsx(\"input\",{ref:loginRef,className:\"sign-in__input\",type:\"email\",placeholder:\"Email address\",name:\"user-email\",id:\"user-email\"}),/*#__PURE__*/_jsx(\"label\",{className:\"sign-in__label visually-hidden\",htmlFor:\"user-email\",children:\"Email address\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"sign-in__field\",children:[/*#__PURE__*/_jsx(\"input\",{required:true,ref:passwordRef,className:\"sign-in__input\",type:\"password\",placeholder:\"Password\",name:\"user-password\",id:\"user-password\",pattern:\"(?!^[0-9]*$)(?!^[a-zA-Z\\u0430-\\u044F\\u0410-\\u044F]*$)^([a-zA-Z\\u0430-\\u044F\\u0410-\\u042F0-9]{1,}$)\"}),/*#__PURE__*/_jsx(\"label\",{className:\"sign-in__label visually-hidden\",htmlFor:\"user-password\",children:\"Password\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"sign-in__submit\",children:/*#__PURE__*/_jsx(\"button\",{className:\"sign-in__btn\",type:\"submit\",children:\"Sign in\"})})]})})]});}export default SignInPage;","map":{"version":3,"sources":["C:/Users/Admin/Desktop/Вячеслав/Projects/1479361-what-to-watch-9/project/src/pages/sign-in-page/sign-in-page.tsx"],"names":["useRef","Link","useNavigate","AppRoute","useAppDispatch","loginAction","SignInPage","loginRef","passwordRef","dispatch","navigate","onSubmit","authData","Main","handleSubmit","evt","preventDefault","current","login","value","password"],"mappings":"AAAA,OAAoBA,MAApB,KAAkC,OAAlC,CACA,OAASC,IAAT,CAAeC,WAAf,KAAkC,kBAAlC,CACA,OAASC,QAAT,KAAyB,aAAzB,CACA,OAASC,cAAT,KAA+B,aAA/B,CACA,OAASC,WAAT,KAA4B,wBAA5B,C,wFAIA,QAASC,CAAAA,UAAT,EAAsB,CACpB,GAAMC,CAAAA,QAAQ,CAAGP,MAAM,CAA0B,IAA1B,CAAvB,CACA,GAAMQ,CAAAA,WAAW,CAAGR,MAAM,CAA0B,IAA1B,CAA1B,CAEA,GAAMS,CAAAA,QAAQ,CAAGL,cAAc,EAA/B,CACA,GAAMM,CAAAA,QAAQ,CAAGR,WAAW,EAA5B,CAEA,GAAMS,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,QAAD,CAAwB,CACvCH,QAAQ,CAACJ,WAAW,CAACO,QAAD,CAAZ,CAAR,CACAF,QAAQ,CAACP,QAAQ,CAACU,IAAV,CAAR,CACD,CAHD,CAKA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,GAAD,CAAqC,CACxDA,GAAG,CAACC,cAAJ,GAEA,GAAGT,QAAQ,CAACU,OAAT,GAAqB,IAArB,EAA6BT,WAAW,CAACS,OAAZ,GAAwB,IAAxD,CAA6D,CAC3D,MAAON,CAAAA,QAAQ,CAAC,CACdO,KAAK,CAAEX,QAAQ,CAACU,OAAT,CAAiBE,KADV,CAEdC,QAAQ,CAAEZ,WAAW,CAACS,OAAZ,CAAoBE,KAFhB,CAAD,CAAf,CAID,CACF,CATD,CAWA,mBACE,aAAK,SAAS,CAAC,WAAf,wBACE,gBAAQ,SAAS,CAAC,6BAAlB,wBACE,YAAK,SAAS,CAAC,MAAf,uBACE,MAAC,IAAD,EAAM,EAAE,CAAC,GAAT,CAAa,SAAS,CAAC,YAAvB,wBACE,aAAM,SAAS,CAAC,8BAAhB,eADF,cAEE,aAAM,SAAS,CAAC,8BAAhB,eAFF,cAGE,aAAM,SAAS,CAAC,8BAAhB,eAHF,GADF,EADF,cASE,WAAI,SAAS,CAAC,6BAAd,qBATF,GADF,cAaE,YAAK,SAAS,CAAC,4BAAf,uBACE,cACE,MAAM,CAAC,EADT,CAEE,SAAS,CAAC,eAFZ,CAGE,QAAQ,CAAEL,YAHZ,wBAKE,aAAK,SAAS,CAAC,iBAAf,wBACE,aAAK,SAAS,CAAC,gBAAf,wBACE,cACE,GAAG,CAAEP,QADP,CAEE,SAAS,CAAC,gBAFZ,CAGE,IAAI,CAAC,OAHP,CAGe,WAAW,CAAC,eAH3B,CAIE,IAAI,CAAC,YAJP,CAIoB,EAAE,CAAC,YAJvB,EADF,cAOE,cAAO,SAAS,CAAC,gCAAjB,CAAkD,OAAO,CAAC,YAA1D,2BAPF,GADF,cAUE,aAAK,SAAS,CAAC,gBAAf,wBACE,cACE,QAAQ,KADV,CAEE,GAAG,CAAEC,WAFP,CAGE,SAAS,CAAC,gBAHZ,CAIE,IAAI,CAAC,UAJP,CAKE,WAAW,CAAC,UALd,CAME,IAAI,CAAC,eANP,CAOE,EAAE,CAAC,eAPL,CAQE,OAAO,CAAC,oGARV,EADF,cAWE,cAAO,SAAS,CAAC,gCAAjB,CAAkD,OAAO,CAAC,eAA1D,sBAXF,GAVF,GALF,cA6BE,YAAK,SAAS,CAAC,iBAAf,uBACE,eACE,SAAS,CAAC,cADZ,CAEE,IAAI,CAAC,QAFP,qBADF,EA7BF,GADF,EAbF,GADF,CAuDD,CAED,cAAeF,CAAAA,UAAf","sourcesContent":["import { FormEvent, useRef } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { AppRoute } from '../../const';\nimport { useAppDispatch } from '../../hooks';\nimport { loginAction } from '../../store/api-action';\nimport { AuthData } from '../../types';\n\n\nfunction SignInPage() {\n  const loginRef = useRef<HTMLInputElement | null>(null);\n  const passwordRef = useRef<HTMLInputElement | null>(null);\n\n  const dispatch = useAppDispatch();\n  const navigate = useNavigate();\n\n  const onSubmit = (authData: AuthData) => {\n    dispatch(loginAction(authData));\n    navigate(AppRoute.Main);\n  };\n\n  const handleSubmit = (evt: FormEvent<HTMLFormElement>) => {\n    evt.preventDefault();\n\n    if(loginRef.current !== null && passwordRef.current !== null){\n      return onSubmit({\n        login: loginRef.current.value,\n        password: passwordRef.current.value,\n      });\n    }\n  };\n\n  return (\n    <div className=\"user-page\">\n      <header className=\"page-header user-page__head\">\n        <div className=\"logo\">\n          <Link to=\"/\" className=\"logo__link\">\n            <span className=\"logo__letter logo__letter--1\">W</span>\n            <span className=\"logo__letter logo__letter--2\">T</span>\n            <span className=\"logo__letter logo__letter--3\">W</span>\n          </Link>\n        </div>\n\n        <h1 className=\"page-title user-page__title\">Sign in</h1>\n      </header>\n\n      <div className=\"sign-in user-page__content\">\n        <form\n          action=\"\"\n          className=\"sign-in__form\"\n          onSubmit={handleSubmit}\n        >\n          <div className=\"sign-in__fields\">\n            <div className=\"sign-in__field\">\n              <input\n                ref={loginRef}\n                className=\"sign-in__input\"\n                type=\"email\" placeholder=\"Email address\"\n                name=\"user-email\" id=\"user-email\"\n              />\n              <label className=\"sign-in__label visually-hidden\" htmlFor=\"user-email\">Email address</label>\n            </div>\n            <div className=\"sign-in__field\">\n              <input\n                required\n                ref={passwordRef}\n                className=\"sign-in__input\"\n                type=\"password\"\n                placeholder=\"Password\"\n                name=\"user-password\"\n                id=\"user-password\"\n                pattern='(?!^[0-9]*$)(?!^[a-zA-Zа-яА-я]*$)^([a-zA-Zа-яА-Я0-9]{1,}$)'\n              />\n              <label className=\"sign-in__label visually-hidden\" htmlFor=\"user-password\">Password</label>\n            </div>\n          </div>\n          <div className=\"sign-in__submit\">\n            <button\n              className=\"sign-in__btn\"\n              type=\"submit\"\n            >Sign in\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default SignInPage;\n"]},"metadata":{},"sourceType":"module"}