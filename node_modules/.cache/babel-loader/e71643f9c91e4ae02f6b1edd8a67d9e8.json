{"ast":null,"code":"import axios from'axios';import{getDataUser}from'../services/token';var BECKEND_URL='https://9.react.pages.academy/wtw';var REQUEST_TIMEOUT=5000;export var createAPI=function createAPI(){var api=axios.create({baseURL:BECKEND_URL,timeout:REQUEST_TIMEOUT});api.interceptors.request.use(function(config){var dataUser=getDataUser();if(dataUser.token){config.headers['x-token']=dataUser.token;}return config;});return api;};","map":{"version":3,"sources":["C:/Users/Admin/Desktop/Вячеслав/Projects/1479361-what-to-watch-9/project/src/store/api.ts"],"names":["axios","getDataUser","BECKEND_URL","REQUEST_TIMEOUT","createAPI","api","create","baseURL","timeout","interceptors","request","use","config","dataUser","token","headers"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAyD,OAAzD,CACA,OAASC,WAAT,KAA4B,mBAA5B,CAEA,GAAMC,CAAAA,WAAW,CAAG,mCAApB,CACA,GAAMC,CAAAA,eAAe,CAAG,IAAxB,CAEA,MAAO,IAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAoB,CAC3C,GAAMC,CAAAA,GAAG,CAAGL,KAAK,CAACM,MAAN,CAAa,CACvBC,OAAO,CAAEL,WADc,CAEvBM,OAAO,CAAEL,eAFc,CAAb,CAAZ,CAIAE,GAAG,CAACI,YAAJ,CAAiBC,OAAjB,CAAyBC,GAAzB,CACE,SAACC,MAAD,CAAgC,CAC9B,GAAMC,CAAAA,QAAQ,CAAGZ,WAAW,EAA5B,CAEA,GAAIY,QAAQ,CAACC,KAAb,CAAoB,CAClBF,MAAM,CAACG,OAAP,CAAe,SAAf,EAA4BF,QAAQ,CAACC,KAArC,CACD,CAED,MAAOF,CAAAA,MAAP,CACD,CATH,EAWA,MAAOP,CAAAA,GAAP,CACD,CAjBM","sourcesContent":["import axios, { AxiosInstance, AxiosRequestConfig } from 'axios';\nimport { getDataUser } from '../services/token';\n\nconst BECKEND_URL = 'https://9.react.pages.academy/wtw';\nconst REQUEST_TIMEOUT = 5000;\n\nexport const createAPI = ():AxiosInstance => {\n  const api = axios.create({\n    baseURL: BECKEND_URL,\n    timeout: REQUEST_TIMEOUT,\n  });\n  api.interceptors.request.use(\n    (config: AxiosRequestConfig) => {\n      const dataUser = getDataUser();\n\n      if (dataUser.token) {\n        config.headers['x-token'] = dataUser.token;\n      }\n\n      return config;\n    },\n  );\n  return api;\n};\n"]},"metadata":{},"sourceType":"module"}