{"ast":null,"code":"import{useAppDispatch,useAppSelector}from'../../hooks';import{store}from'../../store';import{setCurrentFilmStatus,setPromoFilmStatus}from'../../store/action';import{addFilmStatusAction}from'../../store/api-action';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function MyListButton(){var dispatch=useAppDispatch();var currentFilm=useAppSelector(function(state){return state.currentFilm;});var clickMyListButton=function clickMyListButton(){var data={id:currentFilm.id,status:Number(!currentFilm.isFavorite)};dispatch(setPromoFilmStatus(!!data.status));dispatch(setCurrentFilmStatus(!!data.status));store.dispatch(addFilmStatusAction(data));};return/*#__PURE__*/_jsxs(\"button\",{onClick:clickMyListButton,className:\"btn btn--list film-card__button\",type:\"button\",children:[/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 19 20\",width:\"19\",height:\"20\",children:/*#__PURE__*/_jsx(\"use\",{xlinkHref:currentFilm.isFavorite?'#in-list':'#add'})}),/*#__PURE__*/_jsx(\"span\",{children:\"My list\"})]});}export default MyListButton;","map":{"version":3,"sources":["C:/Users/Admin/Desktop/Вячеслав/Projects/1479361-what-to-watch-9/src/components/my-list-button/my-list-button.tsx"],"names":["useAppDispatch","useAppSelector","store","setCurrentFilmStatus","setPromoFilmStatus","addFilmStatusAction","MyListButton","dispatch","currentFilm","state","clickMyListButton","data","id","status","Number","isFavorite"],"mappings":"AAAA,OAASA,cAAT,CAAyBC,cAAzB,KAA+C,aAA/C,CACA,OAASC,KAAT,KAAsB,aAAtB,CACA,OAASC,oBAAT,CAA+BC,kBAA/B,KAAyD,oBAAzD,CACA,OAAUC,mBAAV,KAAqC,wBAArC,C,wFAGA,QAASC,CAAAA,YAAT,EAAwB,CAEtB,GAAMC,CAAAA,QAAQ,CAAGP,cAAc,EAA/B,CACA,GAAMQ,CAAAA,WAAW,CAAGP,cAAc,CAAC,SAACQ,KAAD,QAAWA,CAAAA,KAAK,CAACD,WAAjB,EAAD,CAAlC,CAEA,GAAME,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,EAAM,CAE9B,GAAMC,CAAAA,IAAI,CAAG,CACXC,EAAE,CAAEJ,WAAW,CAACI,EADL,CAEXC,MAAM,CAAEC,MAAM,CAAC,CAACN,WAAW,CAACO,UAAd,CAFH,CAAb,CAKAR,QAAQ,CAACH,kBAAkB,CAAC,CAAC,CAACO,IAAI,CAACE,MAAR,CAAnB,CAAR,CACAN,QAAQ,CAACJ,oBAAoB,CAAC,CAAC,CAACQ,IAAI,CAACE,MAAR,CAArB,CAAR,CACAX,KAAK,CAACK,QAAN,CAAeF,mBAAmB,CAACM,IAAD,CAAlC,EAED,CAXD,CAcA,mBACE,gBAAQ,OAAO,CAAED,iBAAjB,CAAoC,SAAS,CAAC,iCAA9C,CAAgF,IAAI,CAAC,QAArF,wBACE,YAAK,OAAO,CAAC,WAAb,CAAyB,KAAK,CAAC,IAA/B,CAAoC,MAAM,CAAC,IAA3C,uBACE,YAAK,SAAS,CAAEF,WAAW,CAACO,UAAZ,CAAuB,UAAvB,CAAkC,MAAlD,EADF,EADF,cAIE,iCAJF,GADF,CAQD,CAED,cAAeT,CAAAA,YAAf","sourcesContent":["import { useAppDispatch, useAppSelector } from '../../hooks';\nimport { store } from '../../store';\nimport { setCurrentFilmStatus, setPromoFilmStatus } from '../../store/action';\nimport {  addFilmStatusAction } from '../../store/api-action';\n\n\nfunction MyListButton() {\n\n  const dispatch = useAppDispatch();\n  const currentFilm = useAppSelector((state) => state.currentFilm);\n\n  const clickMyListButton = () => {\n\n    const data = {\n      id: currentFilm.id,\n      status: Number(!currentFilm.isFavorite),\n    };\n\n    dispatch(setPromoFilmStatus(!!data.status));\n    dispatch(setCurrentFilmStatus(!!data.status));\n    store.dispatch(addFilmStatusAction(data));\n\n  };\n\n\n  return (\n    <button onClick={clickMyListButton} className=\"btn btn--list film-card__button\" type=\"button\">\n      <svg viewBox=\"0 0 19 20\" width=\"19\" height=\"20\">\n        <use xlinkHref={currentFilm.isFavorite?'#in-list':'#add'}></use>\n      </svg>\n      <span>My list</span>\n    </button>\n  );\n}\n\nexport default MyListButton;\n"]},"metadata":{},"sourceType":"module"}