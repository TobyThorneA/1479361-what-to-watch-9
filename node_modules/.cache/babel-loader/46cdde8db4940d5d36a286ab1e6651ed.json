{"ast":null,"code":"import _objectSpread from\"C:/Users/Admin/Desktop/\\u0412\\u044F\\u0447\\u0435\\u0441\\u043B\\u0430\\u0432/Projects/1479361-what-to-watch-9/project/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React from'react';import{Link}from'react-router-dom';import CardFilm from'../../components/card-film/card-film';import CatalogItem from'../../components/catalog/catalog-item';import PromoFilm from'../../components/promo-film/promo-film';import ShowMoreButton from'../../components/show-more-button/show-more-button';import{useAppDispatch,useAppSelector}from'../../hooks';import{changeGenre}from'../../store/action';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var genres=['All Genres','Comedy','Crime','Adventure','Drama','Fantasy','Action','Thriller'];function HomePage(){var allFilms=useAppSelector(function(state){return state.allFilms;});var promoFilm=useAppSelector(function(state){return state.promoFilm;});var currentGenre=useAppSelector(function(state){return state.genre;});var filmsCount=useAppSelector(function(state){return state.filmsCount;});var dispatch=useAppDispatch();var filterFilms=allFilms.filter(function(it){if('All Genres'===currentGenre){return it;}return it.genre===currentGenre;});var onCatalogItemClick=function onCatalogItemClick(evt){if(evt.currentTarget&&evt.currentTarget.dataset.value){dispatch(changeGenre(evt.currentTarget.dataset.value));}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(PromoFilm,_objectSpread({},promoFilm)),/*#__PURE__*/_jsxs(\"div\",{className:\"page-content\",children:[/*#__PURE__*/_jsxs(\"section\",{className:\"catalog\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"catalog__title visually-hidden\",children:\"Catalog\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"catalog__genres-list\",children:genres.map(function(title){return/*#__PURE__*/_jsx(CatalogItem,{isActive:title===currentGenre,title:title,onClick:onCatalogItemClick},title);})}),/*#__PURE__*/_jsx(\"div\",{className:\"catalog__films-list\",children:filterFilms.slice(0,filmsCount).map(function(it){return/*#__PURE__*/_jsx(CardFilm,_objectSpread({},it),it.id);})}),filterFilms.length>filmsCount&&/*#__PURE__*/_jsx(ShowMoreButton,{})]}),/*#__PURE__*/_jsxs(\"footer\",{className:\"page-footer\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"logo\",children:/*#__PURE__*/_jsxs(Link,{to:\"/\",className:\"logo__link logo__link--light\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"logo__letter logo__letter--1\",children:\"W\"}),/*#__PURE__*/_jsx(\"span\",{className:\"logo__letter logo__letter--2\",children:\"T\"}),/*#__PURE__*/_jsx(\"span\",{className:\"logo__letter logo__letter--3\",children:\"W\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"copyright\",children:/*#__PURE__*/_jsx(\"p\",{children:\"\\xA9 2019 What to watch Ltd.\"})})]})]})]});}export default HomePage;","map":{"version":3,"sources":["C:/Users/Admin/Desktop/Вячеслав/Projects/1479361-what-to-watch-9/project/src/pages/home-page/home-page.tsx"],"names":["React","Link","CardFilm","CatalogItem","PromoFilm","ShowMoreButton","useAppDispatch","useAppSelector","changeGenre","genres","HomePage","allFilms","state","promoFilm","currentGenre","genre","filmsCount","dispatch","filterFilms","filter","it","onCatalogItemClick","evt","currentTarget","dataset","value","map","title","slice","id","length"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\nimport CardFilm from '../../components/card-film/card-film';\nimport CatalogItem from '../../components/catalog/catalog-item';\nimport PromoFilm from '../../components/promo-film/promo-film';\nimport ShowMoreButton from '../../components/show-more-button/show-more-button';\nimport { useAppDispatch, useAppSelector } from '../../hooks';\nimport { changeGenre } from '../../store/action';\n\nconst genres = [\n  'All Genres', 'Comedy', 'Crime',\n  'Adventure', 'Drama', 'Fantasy',\n  'Action', 'Thriller',\n];\n\nfunction HomePage() {\n  const allFilms = useAppSelector((state) => state.allFilms);\n  const promoFilm = useAppSelector((state) => state.promoFilm);\n  const currentGenre = useAppSelector((state) => state.genre);\n  const filmsCount = useAppSelector((state) => state.filmsCount);\n\n  const dispatch = useAppDispatch();\n\n  const filterFilms = allFilms.filter((it) => {\n    if('All Genres' === currentGenre){\n      return it;\n    }\n    return it.genre === currentGenre;\n  });\n\n  const onCatalogItemClick = (evt: React.MouseEvent<HTMLLIElement>) => {\n    if(evt.currentTarget && evt.currentTarget.dataset.value){\n      dispatch(changeGenre(evt.currentTarget.dataset.value));\n    }\n  };\n\n  return (\n    <div>\n      <PromoFilm {...promoFilm}/>\n      <div className=\"page-content\">\n        <section className=\"catalog\">\n          <h2 className=\"catalog__title visually-hidden\">Catalog</h2>\n\n          <ul className=\"catalog__genres-list\">\n            {genres.map((title) => (\n              <CatalogItem\n                isActive={title === currentGenre}\n                key={title} title={title}\n                onClick={onCatalogItemClick}\n              />\n            ),\n            )}\n          </ul>\n\n          <div className=\"catalog__films-list\">\n            {filterFilms\n              .slice(0, filmsCount)\n              .map((it) => <CardFilm key={it.id} {...it}/>)}\n          </div>\n\n          {filterFilms.length > filmsCount && <ShowMoreButton/>}\n\n        </section>\n\n        <footer className=\"page-footer\">\n          <div className=\"logo\">\n            <Link to=\"/\"className=\"logo__link logo__link--light\">\n              <span className=\"logo__letter logo__letter--1\">W</span>\n              <span className=\"logo__letter logo__letter--2\">T</span>\n              <span className=\"logo__letter logo__letter--3\">W</span>\n            </Link>\n          </div>\n\n          <div className=\"copyright\">\n            <p>© 2019 What to watch Ltd.</p>\n          </div>\n        </footer>\n      </div>\n    </div>\n\n  );\n}\n\nexport default HomePage;\n"]},"metadata":{},"sourceType":"module"}