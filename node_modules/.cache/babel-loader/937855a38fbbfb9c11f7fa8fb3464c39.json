{"ast":null,"code":"import { createReducer } from '@reduxjs/toolkit';\nimport { AuthorizationStatus } from '../const';\nimport { changeGenre, loadComments, loadCurrentFilm, loadFavoriteFilms, loadAllFilms, loadMoreLikeFilms, loadPromoFilm, requireAuthorization, setError, showMore, setCurrentFilmStatus, setPromoFilmStatus, defaultFilmsCount, playOrPause } from '../store/action';\nimport { fetchCommentsAction } from '../store/api-action';\nconst dataFilm = {\n  id: 0,\n  name: '',\n  posterImage: '',\n  previewImage: '',\n  backgroundImage: '',\n  backgroundColor: '',\n  videoLink: '',\n  previewVideoLink: '',\n  description: '',\n  rating: 0,\n  scoresCount: 0,\n  director: '',\n  starring: [''],\n  runTime: 0,\n  genre: '',\n  released: 0,\n  isFavorite: true\n};\nconst dataUserAcc = {\n  avatarUrl: '',\n  email: '',\n  id: 0,\n  name: '',\n  token: ''\n};\nconst defaultData = {\n  genre: 'All Genres',\n  filmsCount: 8,\n  allFilms: [],\n  favoriteFilms: [],\n  moreLikeFilms: [],\n  currentFilm: dataFilm,\n  promoFilm: dataFilm,\n  comments: [],\n  authorizationStatus: AuthorizationStatus.Unknown,\n  isDataLoaded: false,\n  error: '',\n  dataUser: dataUserAcc,\n  playOrPause: true,\n  loadingComment: false\n};\nconst reducer = createReducer(defaultData, builder => {\n  builder.addCase(fetchCommentsAction.pending, state => {\n    state.loadingComment = true;\n  }).addCase(fetchCommentsAction.fulfilled, state => {\n    state.loadingComment = false;\n  }).addCase(fetchCommentsAction.rejected, state => {\n    state.loadingComment = false;\n  }).addCase(changeGenre, (state, action) => {\n    state.genre = action.payload;\n    state.filmsCount = defaultData.filmsCount;\n  }).addCase(defaultFilmsCount, state => {\n    state.filmsCount = defaultData.filmsCount;\n  }).addCase(showMore, state => {\n    state.filmsCount += 8;\n  }).addCase(loadAllFilms, (state, action) => {\n    state.allFilms = action.payload;\n  }).addCase(loadCurrentFilm, (state, action) => {\n    state.currentFilm = action.payload;\n  }).addCase(loadFavoriteFilms, (state, action) => {\n    state.favoriteFilms = action.payload;\n  }).addCase(loadMoreLikeFilms, (state, action) => {\n    state.moreLikeFilms = action.payload;\n  }).addCase(loadPromoFilm, (state, action) => {\n    state.promoFilm = action.payload;\n  }).addCase(loadComments, (state, action) => {\n    state.comments = action.payload;\n  }).addCase(requireAuthorization, (state, action) => {\n    state.authorizationStatus = action.payload;\n    state.isDataLoaded = true;\n  }).addCase(setError, (state, action) => {\n    state.error = action.payload;\n  }).addCase(setPromoFilmStatus, (state, action) => {\n    state.promoFilm.isFavorite = action.payload;\n  }).addCase(playOrPause, (state, action) => {\n    state.playOrPause = action.payload;\n  }).addCase(setCurrentFilmStatus, (state, action) => {\n    state.currentFilm.isFavorite = action.payload;\n  });\n});\nexport { reducer };","map":{"version":3,"sources":["C:/Users/Admin/Desktop/Вячеслав/Projects/1479361-what-to-watch-9/src/reducers/reducer.ts"],"names":["createReducer","AuthorizationStatus","changeGenre","loadComments","loadCurrentFilm","loadFavoriteFilms","loadAllFilms","loadMoreLikeFilms","loadPromoFilm","requireAuthorization","setError","showMore","setCurrentFilmStatus","setPromoFilmStatus","defaultFilmsCount","playOrPause","fetchCommentsAction","dataFilm","id","name","posterImage","previewImage","backgroundImage","backgroundColor","videoLink","previewVideoLink","description","rating","scoresCount","director","starring","runTime","genre","released","isFavorite","dataUserAcc","avatarUrl","email","token","defaultData","filmsCount","allFilms","favoriteFilms","moreLikeFilms","currentFilm","promoFilm","comments","authorizationStatus","Unknown","isDataLoaded","error","dataUser","loadingComment","reducer","builder","addCase","pending","state","fulfilled","rejected","action","payload"],"mappings":"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","sourcesContent":["import { createReducer } from '@reduxjs/toolkit';\nimport { AuthorizationStatus } from '../const';\nimport {\n  changeGenre,\n  loadComments,\n  loadCurrentFilm,\n  loadFavoriteFilms,\n  loadAllFilms,\n  loadMoreLikeFilms,\n  loadPromoFilm,\n  requireAuthorization,\n  setError,\n  showMore,\n  setCurrentFilmStatus,\n  setPromoFilmStatus,\n  defaultFilmsCount,\n  playOrPause\n} from '../store/action';\nimport { fetchCommentsAction } from '../store/api-action';\nimport { GenreFilterReducerProps } from '../types';\n\nconst dataFilm = {\n  id: 0,\n  name: '',\n  posterImage: '',\n  previewImage: '',\n  backgroundImage: '',\n  backgroundColor: '',\n  videoLink: '',\n  previewVideoLink: '',\n  description: '',\n  rating: 0,\n  scoresCount: 0,\n  director: '',\n  starring: [''],\n  runTime: 0,\n  genre: '',\n  released: 0,\n  isFavorite: true,\n};\n\nconst dataUserAcc = {\n  avatarUrl: '',\n  email: '',\n  id: 0,\n  name: '',\n  token: '',\n};\n\nconst defaultData: GenreFilterReducerProps = {\n  genre: 'All Genres',\n  filmsCount: 8,\n  allFilms: [],\n  favoriteFilms: [],\n  moreLikeFilms: [],\n  currentFilm: dataFilm,\n  promoFilm: dataFilm,\n  comments: [],\n  authorizationStatus: AuthorizationStatus.Unknown,\n  isDataLoaded: false,\n  error: '',\n  dataUser: dataUserAcc,\n  playOrPause: true,\n  loadingComment: false,\n};\n\nconst reducer = createReducer(defaultData, (builder) => {\n  builder\n    .addCase(fetchCommentsAction.pending, (state) => {\n      state.loadingComment = true;\n    })\n    .addCase(fetchCommentsAction.fulfilled, (state) => {\n      state.loadingComment = false;\n    })\n    .addCase(fetchCommentsAction.rejected, (state) => {\n      state.loadingComment = false;\n    })\n    .addCase(changeGenre, (state, action) => {\n      state.genre = action.payload;\n      state.filmsCount = defaultData.filmsCount;\n    })\n    .addCase(defaultFilmsCount, (state) => {\n      state.filmsCount = defaultData.filmsCount;\n    })\n    .addCase(showMore, (state) => {\n      state.filmsCount += 8;\n    })\n    .addCase(loadAllFilms, (state, action) => {\n      state.allFilms = action.payload;\n    })\n    .addCase(loadCurrentFilm, (state, action) => {\n      state.currentFilm = action.payload;\n    })\n    .addCase(loadFavoriteFilms, (state, action) => {\n      state.favoriteFilms = action.payload;\n    })\n    .addCase(loadMoreLikeFilms, (state, action) => {\n      state.moreLikeFilms = action.payload;\n    })\n    .addCase(loadPromoFilm, (state, action) => {\n      state.promoFilm = action.payload;\n    })\n    .addCase(loadComments, (state, action) => {\n      state.comments = action.payload;\n    })\n    .addCase(requireAuthorization, (state,action) => {\n      state.authorizationStatus = action.payload;\n      state.isDataLoaded = true;\n    })\n    .addCase(setError, (state,action) => {\n      state.error = action.payload;\n    })\n    .addCase(setPromoFilmStatus, (state, action) => {\n      state.promoFilm.isFavorite = action.payload;\n    })\n    .addCase(playOrPause, (state, action) => {\n      state.playOrPause = action.payload;\n    })\n    .addCase(setCurrentFilmStatus, (state, action) => {\n      state.currentFilm.isFavorite = action.payload;\n    });\n});\n\nexport {reducer};\n"]},"metadata":{},"sourceType":"module"}