{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/Admin/Desktop/\\u0412\\u044F\\u0447\\u0435\\u0441\\u043B\\u0430\\u0432/Projects/1479361-what-to-watch-9/project/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\Admin\\\\Desktop\\\\\\u0412\\u044F\\u0447\\u0435\\u0441\\u043B\\u0430\\u0432\\\\Projects\\\\1479361-what-to-watch-9\\\\project\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import{createAsyncThunk}from'@reduxjs/toolkit';import{api,store}from'.';import{APIRoute,AppRoute,AuthorizationStatus,TIMEOUT_SHOW_ERROR}from'../const';import{errorHandle}from'../services/error-handle';import{dropToken,saveDataUser,saveToken}from'../services/token';import{loadComments,loadCurrentFilm,loadFavoriteFilms,loadAllFilms,loadMoreLikeFilms,loadPromoFilm,redirectToRoute,requireAuthorization,setError}from'./action';export var clearErrorAction=createAsyncThunk('film/clearError',function(){setTimeout(function(){return store.dispatch(setError(''));},TIMEOUT_SHOW_ERROR);});export var checkAuthAction=createAsyncThunk('user/checkAuth',/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return api.get(APIRoute.Login);case 3:store.dispatch(requireAuthorization(AuthorizationStatus.Auth));_context.next=10;break;case 6:_context.prev=6;_context.t0=_context[\"catch\"](0);errorHandle(_context.t0);store.dispatch(requireAuthorization(AuthorizationStatus.NoAuth));case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,6]]);})));export var loginAction=createAsyncThunk('user/login',/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(_ref2){var email,password,_yield$api$post,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:email=_ref2.login,password=_ref2.password;_context2.prev=1;_context2.next=4;return api.post(APIRoute.Login,{email:email,password:password});case 4:_yield$api$post=_context2.sent;data=_yield$api$post.data;saveToken(data.token);saveDataUser(JSON.stringify(data));store.dispatch(requireAuthorization(AuthorizationStatus.Auth));store.dispatch(redirectToRoute(AppRoute.Main));_context2.next=16;break;case 12:_context2.prev=12;_context2.t0=_context2[\"catch\"](1);errorHandle(_context2.t0);store.dispatch(requireAuthorization(AuthorizationStatus.NoAuth));case 16:case\"end\":return _context2.stop();}}},_callee2,null,[[1,12]]);}));return function(_x){return _ref3.apply(this,arguments);};}());export var logoutAction=createAsyncThunk('user/logout',/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return api.delete(APIRoute.Logout);case 3:dropToken();store.dispatch(requireAuthorization(AuthorizationStatus.NoAuth));_context3.next=10;break;case 7:_context3.prev=7;_context3.t0=_context3[\"catch\"](0);errorHandle(_context3.t0);case 10:case\"end\":return _context3.stop();}}},_callee3,null,[[0,7]]);})));export var fetchFilmsAction=createAsyncThunk('films/fetchFilms',/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var _yield$api$get,data;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return api.get(APIRoute.Films);case 3:_yield$api$get=_context4.sent;data=_yield$api$get.data;store.dispatch(loadAllFilms(data));_context4.next=11;break;case 8:_context4.prev=8;_context4.t0=_context4[\"catch\"](0);errorHandle(_context4.t0);case 11:case\"end\":return _context4.stop();}}},_callee4,null,[[0,8]]);})));export var fetchCurrentFilmsAction=createAsyncThunk('film/fetchFilm',/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(id){var _yield$api$get2,data;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.prev=0;_context5.next=3;return api.get(\"\".concat(APIRoute.Films,\"/\").concat(id));case 3:_yield$api$get2=_context5.sent;data=_yield$api$get2.data;store.dispatch(loadCurrentFilm(data));_context5.next=11;break;case 8:_context5.prev=8;_context5.t0=_context5[\"catch\"](0);errorHandle(_context5.t0);case 11:case\"end\":return _context5.stop();}}},_callee5,null,[[0,8]]);}));return function(_x2){return _ref6.apply(this,arguments);};}());export var fetchShowMoreFilmsAction=createAsyncThunk('films/fetchShowMoreFilms',/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(id){var _yield$api$get3,data;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.prev=0;_context6.next=3;return api.get(\"\".concat(APIRoute.Films,\"/\").concat(id,\"/similar\"));case 3:_yield$api$get3=_context6.sent;data=_yield$api$get3.data;store.dispatch(loadMoreLikeFilms(data));_context6.next=11;break;case 8:_context6.prev=8;_context6.t0=_context6[\"catch\"](0);errorHandle(_context6.t0);case 11:case\"end\":return _context6.stop();}}},_callee6,null,[[0,8]]);}));return function(_x3){return _ref7.apply(this,arguments);};}());export var fetchFavoriteFilmsAction=createAsyncThunk('films/fetchFavoriteFilms',/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(){var _yield$api$get4,data;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.prev=0;_context7.next=3;return api.get(APIRoute.Favorite);case 3:_yield$api$get4=_context7.sent;data=_yield$api$get4.data;store.dispatch(loadFavoriteFilms(data));_context7.next=11;break;case 8:_context7.prev=8;_context7.t0=_context7[\"catch\"](0);errorHandle(_context7.t0);case 11:case\"end\":return _context7.stop();}}},_callee7,null,[[0,8]]);})));export var fetchPromoAction=createAsyncThunk('film/fetchPromo',/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(){var _yield$api$get5,data;return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.prev=0;_context8.next=3;return api.get(APIRoute.Promo);case 3:_yield$api$get5=_context8.sent;data=_yield$api$get5.data;store.dispatch(loadPromoFilm(data));_context8.next=11;break;case 8:_context8.prev=8;_context8.t0=_context8[\"catch\"](0);errorHandle(_context8.t0);case 11:case\"end\":return _context8.stop();}}},_callee8,null,[[0,8]]);})));export var fetchCommentsAction=createAsyncThunk('comments/fetchComments',/*#__PURE__*/function(){var _ref10=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee9(id){var _yield$api$get6,data;return _regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:_context9.prev=0;_context9.next=3;return api.get(\"\".concat(APIRoute.Comments,\"/\").concat(id));case 3:_yield$api$get6=_context9.sent;data=_yield$api$get6.data;store.dispatch(loadComments(data));_context9.next=11;break;case 8:_context9.prev=8;_context9.t0=_context9[\"catch\"](0);errorHandle(_context9.t0);case 11:case\"end\":return _context9.stop();}}},_callee9,null,[[0,8]]);}));return function(_x4){return _ref10.apply(this,arguments);};}());export var addCommentsAction=createAsyncThunk('comments/addComments',/*#__PURE__*/function(){var _ref12=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee10(_ref11){var id,dataComment;return _regeneratorRuntime.wrap(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:id=_ref11.id,dataComment=_ref11.dataComment;_context10.prev=1;_context10.next=4;return api.post(\"\".concat(APIRoute.Comments,\"/\").concat(id),dataComment);case 4:store.dispatch(redirectToRoute(\"\".concat(APIRoute.Films,\"/\").concat(id)));_context10.next=11;break;case 7:_context10.prev=7;_context10.t0=_context10[\"catch\"](1);errorHandle(_context10.t0);store.dispatch(requireAuthorization(AuthorizationStatus.NoAuth));case 11:case\"end\":return _context10.stop();}}},_callee10,null,[[1,7]]);}));return function(_x5){return _ref12.apply(this,arguments);};}());export var addFilmStatusAction=createAsyncThunk('film/addFilmStatus',/*#__PURE__*/function(){var _ref14=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee11(_ref13){var id,status;return _regeneratorRuntime.wrap(function _callee11$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:id=_ref13.id,status=_ref13.status;_context11.prev=1;_context11.next=4;return api.post(\"\".concat(APIRoute.Favorite,\"/\").concat(id,\"/\").concat(status));case 4:_context11.next=9;break;case 6:_context11.prev=6;_context11.t0=_context11[\"catch\"](1);errorHandle(_context11.t0);case 9:case\"end\":return _context11.stop();}}},_callee11,null,[[1,6]]);}));return function(_x6){return _ref14.apply(this,arguments);};}());","map":{"version":3,"sources":["C:/Users/Admin/Desktop/Вячеслав/Projects/1479361-what-to-watch-9/project/src/store/api-action.ts"],"names":["createAsyncThunk","api","store","APIRoute","AppRoute","AuthorizationStatus","TIMEOUT_SHOW_ERROR","errorHandle","dropToken","saveDataUser","saveToken","loadComments","loadCurrentFilm","loadFavoriteFilms","loadAllFilms","loadMoreLikeFilms","loadPromoFilm","redirectToRoute","requireAuthorization","setError","clearErrorAction","setTimeout","dispatch","checkAuthAction","get","Login","Auth","NoAuth","loginAction","email","login","password","post","data","token","JSON","stringify","Main","logoutAction","delete","Logout","fetchFilmsAction","Films","fetchCurrentFilmsAction","id","fetchShowMoreFilmsAction","fetchFavoriteFilmsAction","Favorite","fetchPromoAction","Promo","fetchCommentsAction","Comments","addCommentsAction","dataComment","addFilmStatusAction","status"],"mappings":"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","sourcesContent":["import { createAsyncThunk } from '@reduxjs/toolkit';\nimport { api, store } from '.';\nimport { APIRoute, AppRoute, AuthorizationStatus, DataUser, TIMEOUT_SHOW_ERROR } from '../const';\nimport { errorHandle } from '../services/error-handle';\nimport { dropToken, saveDataUser, saveToken } from '../services/token';\nimport { AuthData, Comment, FilmStatus\n} from '../types';\nimport {\n  loadComments,\n  loadCurrentFilm,\n  loadFavoriteFilms,\n  loadAllFilms,\n  loadMoreLikeFilms,\n  loadPromoFilm,\n  redirectToRoute,\n  requireAuthorization,\n  setError\n} from './action';\n\nexport const clearErrorAction = createAsyncThunk(\n  'film/clearError',\n  () => {\n    setTimeout(\n      () => store.dispatch(setError('')),\n      TIMEOUT_SHOW_ERROR,\n    );\n  },\n);\n\nexport const checkAuthAction = createAsyncThunk(\n  'user/checkAuth',\n  async () => {\n    try{\n      await api.get(APIRoute.Login);\n      store.dispatch(requireAuthorization(AuthorizationStatus.Auth));\n    }catch(error){\n      errorHandle(error);\n      store.dispatch(requireAuthorization(AuthorizationStatus.NoAuth));\n    }\n  },\n);\n\nexport const loginAction = createAsyncThunk(\n  'user/login',\n  async ({login: email, password}: AuthData) => {\n    try {\n      const {data} = await api.post<DataUser>(APIRoute.Login, {email, password});\n      saveToken(data.token);\n      saveDataUser(JSON.stringify(data));\n      store.dispatch(requireAuthorization(AuthorizationStatus.Auth));\n      store.dispatch(redirectToRoute(AppRoute.Main));\n    } catch (error) {\n      errorHandle(error);\n      store.dispatch(requireAuthorization(AuthorizationStatus.NoAuth));\n    }\n  },\n);\n\nexport const logoutAction = createAsyncThunk(\n  'user/logout',\n  async () => {\n    try{\n      await api.delete(APIRoute.Logout);\n      dropToken();\n      store.dispatch(requireAuthorization(AuthorizationStatus.NoAuth));\n    }catch(error){\n      errorHandle(error);\n    }\n  },\n);\n\nexport const fetchFilmsAction = createAsyncThunk(\n  'films/fetchFilms',\n  async () => {\n    try{\n      const {data} = await api.get(APIRoute.Films);\n      store.dispatch(loadAllFilms(data));\n    }catch(error){\n      errorHandle(error);\n    }\n  },\n);\n\nexport const fetchCurrentFilmsAction = createAsyncThunk(\n  'film/fetchFilm',\n  async (id: number) => {\n    try{\n      const {data} = await api.get(`${APIRoute.Films}/${id}`);\n      store.dispatch(loadCurrentFilm(data));\n    }catch(error){\n      errorHandle(error);\n    }\n  },\n);\n\nexport const fetchShowMoreFilmsAction = createAsyncThunk(\n  'films/fetchShowMoreFilms',\n  async(id: number) => {\n    try{\n      const {data} = await api.get(`${APIRoute.Films}/${id}/similar`);\n      store.dispatch(loadMoreLikeFilms(data));\n    }catch(error){\n      errorHandle(error);\n    }\n  },\n);\n\nexport const fetchFavoriteFilmsAction = createAsyncThunk(\n  'films/fetchFavoriteFilms',\n  async() => {\n    try{\n      const {data} = await api.get(APIRoute.Favorite);\n      store.dispatch(loadFavoriteFilms(data));\n    }catch(error){\n      errorHandle(error);\n    }\n  },\n);\n\n\nexport const fetchPromoAction = createAsyncThunk(\n  'film/fetchPromo',\n  async () => {\n    try{\n      const {data} = await api.get(APIRoute.Promo);\n      store.dispatch(loadPromoFilm(data));\n    }catch(error){\n      errorHandle(error);\n    }\n  },\n);\n\nexport const fetchCommentsAction = createAsyncThunk(\n  'comments/fetchComments',\n  async (id: number) => {\n    try{\n      const {data} = await api.get(`${APIRoute.Comments}/${id}`);\n      store.dispatch(loadComments(data));\n    }catch(error){\n      errorHandle(error);\n    }\n  },\n);\n\nexport const addCommentsAction = createAsyncThunk(\n  'comments/addComments',\n  async ({id, dataComment}: Comment ) => {\n    try{\n      await api.post<Comment>(`${APIRoute.Comments}/${id}`, dataComment);\n      store.dispatch(redirectToRoute(`${APIRoute.Films}/${id}`));\n    }catch(error){\n      errorHandle(error);\n      store.dispatch(requireAuthorization(AuthorizationStatus.NoAuth));\n    }\n  },\n);\n\n\nexport const addFilmStatusAction = createAsyncThunk(\n  'film/addFilmStatus',\n  async ({id,status}: FilmStatus) => {\n    try{\n      await api.post<FilmStatus>(`${APIRoute.Favorite}/${id}/${status}`);\n    }catch(error){\n      errorHandle(error);\n    }\n  },\n);\n"]},"metadata":{},"sourceType":"module"}