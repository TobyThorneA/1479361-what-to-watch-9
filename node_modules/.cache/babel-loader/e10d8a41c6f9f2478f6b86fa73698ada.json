{"ast":null,"code":"import _objectSpread from\"C:/Users/Admin/Desktop/\\u0412\\u044F\\u0447\\u0435\\u0441\\u043B\\u0430\\u0432/Projects/1479361-what-to-watch-9/project/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useNavigate,useParams}from'react-router-dom';import{AuthorizationStatus}from'../../const';import Header from'../../components/header/header';import NotFoundPage from'../not-found-page/not-found-page';import MoreLikeFilms from'../../components/more-like-films/more-like-films';import{useAppSelector}from'../../hooks';import{store}from'../../store';import{fetchCommentsAction,fetchCurrentFilmsAction,fetchShowMoreFilmsAction}from'../../store/api-action';import{useEffect}from'react';import MyListButton from'../../components/my-list-button/my-list-button';import AddReviwButton from'../../components/add-revie-button/add-review-button';import Tabs from'../../components/tabs/tabs';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function FilmPage(){var authorizationStatus=useAppSelector(function(state){return state.authorizationStatus;});var currentFilm=useAppSelector(function(state){return state.currentFilm;});var _useParams=useParams(),id=_useParams.id;var navigate=useNavigate();useEffect(function(){store.dispatch(fetchCurrentFilmsAction(Number(id)));store.dispatch(fetchCommentsAction(Number(id)));store.dispatch(fetchShowMoreFilmsAction(Number(id)));},[id]);if(!currentFilm||!currentFilm.id){return/*#__PURE__*/_jsx(NotFoundPage,{});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"section\",{className:\"film-card film-card--full\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"film-card__hero\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"film-card__bg\",children:/*#__PURE__*/_jsx(\"img\",{src:currentFilm.posterImage,alt:currentFilm.name})}),/*#__PURE__*/_jsx(\"h1\",{className:\"visually-hidden\",children:\"WTW\"}),/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"div\",{className:\"film-card__wrap\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"film-card__desc\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"film-card__title\",children:currentFilm.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"film-card__meta\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"film-card__genre\",children:currentFilm.genre}),/*#__PURE__*/_jsx(\"span\",{className:\"film-card__year\",children:currentFilm.released})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"film-card__buttons\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:function onClick(){return navigate(\"/player/\".concat(currentFilm.id));},className:\"btn btn--play film-card__button\",type:\"button\",children:[/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 19 19\",width:\"19\",height:\"19\",children:/*#__PURE__*/_jsx(\"use\",{xlinkHref:\"#play-s\"})}),/*#__PURE__*/_jsx(\"span\",{children:\"Play\"})]}),authorizationStatus===AuthorizationStatus.Auth?/*#__PURE__*/_jsx(MyListButton,{}):'',authorizationStatus===AuthorizationStatus.Auth?/*#__PURE__*/_jsx(AddReviwButton,{currentId:currentFilm.id}):'']})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"film-card__wrap film-card__translate-top\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"film-card__info\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"film-card__poster film-card__poster--big\",children:/*#__PURE__*/_jsx(\"img\",{src:currentFilm.posterImage,alt:currentFilm.name,width:\"218\",height:\"327\"})}),/*#__PURE__*/_jsx(Tabs,_objectSpread({},currentFilm))]})})]}),/*#__PURE__*/_jsx(MoreLikeFilms,{currentFilm:currentFilm})]});}export default FilmPage;","map":{"version":3,"sources":["C:/Users/Admin/Desktop/Вячеслав/Projects/1479361-what-to-watch-9/project/src/pages/film-page/film-page.tsx"],"names":["useNavigate","useParams","AuthorizationStatus","Header","NotFoundPage","MoreLikeFilms","useAppSelector","store","fetchCommentsAction","fetchCurrentFilmsAction","fetchShowMoreFilmsAction","useEffect","MyListButton","AddReviwButton","Tabs","FilmPage","authorizationStatus","state","currentFilm","id","navigate","dispatch","Number","posterImage","name","genre","released","Auth"],"mappings":"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","sourcesContent":["import { useNavigate, useParams } from 'react-router-dom';\nimport { AuthorizationStatus } from '../../const';\nimport Header from '../../components/header/header';\nimport NotFoundPage from '../not-found-page/not-found-page';\nimport MoreLikeFilms from '../../components/more-like-films/more-like-films';\nimport {  useAppSelector } from '../../hooks';\nimport { store } from '../../store';\nimport { fetchCommentsAction, fetchCurrentFilmsAction, fetchShowMoreFilmsAction } from '../../store/api-action';\nimport { useEffect } from 'react';\nimport MyListButton from '../../components/my-list-button/my-list-button';\nimport AddReviwButton from '../../components/add-revie-button/add-review-button';\nimport Tabs from '../../components/tabs/tabs';\n\nfunction FilmPage() {\n  const authorizationStatus = useAppSelector((state) => state.authorizationStatus);\n  const currentFilm = useAppSelector((state) => state.currentFilm);\n  const {id}= useParams();\n  const navigate = useNavigate();\n\n\n  useEffect(() => {\n    store.dispatch(fetchCurrentFilmsAction(Number(id)));\n    store.dispatch(fetchCommentsAction(Number(id)));\n    store.dispatch(fetchShowMoreFilmsAction(Number(id)));\n  }, [id]);\n\n  if(!currentFilm || !currentFilm.id){\n    return <NotFoundPage/>;\n  }\n\n  return (\n    <div>\n      <section className=\"film-card film-card--full\">\n        <div className=\"film-card__hero\">\n          <div className=\"film-card__bg\">\n            <img src={currentFilm.posterImage} alt={currentFilm.name} />\n          </div>\n\n          <h1 className=\"visually-hidden\">WTW</h1>\n\n          <Header/>\n\n          <div className=\"film-card__wrap\">\n            <div className=\"film-card__desc\">\n              <h2 className=\"film-card__title\">{currentFilm.name}</h2>\n              <p className=\"film-card__meta\">\n                <span className=\"film-card__genre\">{currentFilm.genre}</span>\n                <span className=\"film-card__year\">{currentFilm.released}</span>\n              </p>\n\n              <div className=\"film-card__buttons\">\n                <button onClick={() => navigate(`/player/${currentFilm.id}`)} className=\"btn btn--play film-card__button\" type=\"button\">\n                  <svg viewBox=\"0 0 19 19\" width=\"19\" height=\"19\">\n                    <use xlinkHref=\"#play-s\"></use>\n                  </svg>\n                  <span>Play</span>\n                </button>\n                {authorizationStatus === AuthorizationStatus.Auth? <MyListButton/>: ''}\n                {authorizationStatus === AuthorizationStatus.Auth? <AddReviwButton currentId = {currentFilm.id} /> : ''}\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"film-card__wrap film-card__translate-top\">\n          <div className=\"film-card__info\">\n            <div className=\"film-card__poster film-card__poster--big\">\n              <img src={currentFilm.posterImage} alt={currentFilm.name} width=\"218\" height=\"327\" />\n            </div>\n\n            <Tabs {...currentFilm} />\n\n          </div>\n        </div>\n      </section>\n\n      <MoreLikeFilms currentFilm={currentFilm} />\n\n    </div>\n  );\n}\n\nexport default FilmPage;\n"]},"metadata":{},"sourceType":"module"}